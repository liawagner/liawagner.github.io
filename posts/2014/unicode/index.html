<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Random Thoughts and Geekery by Ant Zucaro</title>
    <link rel="stylesheet" href="/static/css/blog.min.css" />

  </head>

  <body>
    <div class="container">
  <div class="row">
    <div class="two columns">&nbsp;</div>
    <div class="eight columns top-nav">
      <ul class="nav">
        <li><a class="logo" href="/">Ant Zucaro</a></li>
        <li><a href="/categories/photography">photography</a></li>
        <li><a href="/posts">archive</a></li>
        <li><a href="/about">about me</a></li>
        <li><a href="/index.xml">rss</a></li>
      </ul>
    </div>
  </div>
</div>



  <div class="container">
    <div class="row">
      <div class="two columns">&nbsp;</div>
      <div class="eight columns">
        <h2>Unicode Characters</h2>
        <p class="post-date">May 16, 2014</p>

        <p>The other day I was adding support for some unicode characters within <a href="http://stats.xonotic.org">XonStat</a> and during the process stumbled upon a few helpful things. It turns out that many Linux applications provide for the easy entry of code point values with a simple key press combination: while holding the control and shift keys, enter &lsquo;U&rsquo; and then the unicode code point value to insert that character into whatever text buffer you&rsquo;re currently working with. For example, entering the character &ldquo;Ã©&rdquo; (at <a href="http://en.wikibooks.org/wiki/Unicode/Character_reference/0000-0FFF">code point</a> 00E9) you would hold control and shift and then enter U, 0, 0, E, 9. Nice!</p>

<p></p>

<p>What&rsquo;s even better is that Firefox is one of the apps that supports this entry method. This is especially useful for playing around with your @font-face declarations, since entry behaves the same way within the developer tools as well. That meant that instead of searching for a Xonotic player who had a special character in their nick (which is what I was testing), I could simply inspect their nickname and insert an arbitrary code point to see if it displayed the font&rsquo;s glyph properly. Similarly, I could also specify any code point in a POST request for incoming data by doing the same thing if needed (at the time I didn&rsquo;t).</p>

<p>The unfortunate thing is that many text editors have had the same functionality for a long time, and each has developed their own entry pattern. Entering these characters in Vim, for example, requires hitting Control-V while in insert mode, then entering U and the code point value. This isn&rsquo;t bad at all, it&rsquo;s just slightly different from how other applications handle it. I guess you can&rsquo;t have it all!</p>

<p>During my testing process I also found out that Python 2 has several flavors of unicode literals developers can use. I was naively assuming that all code points could be entered with one syntax, so I was assembling four and five hex-character code points with the same format: \uXXXXX, with the Xs being the code point value in hexadecimal. My @font-face had its glyphs mostly in the four character range, but it did have a few in the five character range. It was those that weren&rsquo;t working properly, which caused me endless frustration. I was entering &ldquo;\u1F680&rdquo; as the code point literal in the code, but I kept getting an omega symbol (U+1F68) and a 0 on my display! I kept scratching my head over this until I looked closely into the <a href="https://docs.python.org/2/howto/unicode.html#unicode-literals-in-python-source-code">Python documentation</a>. I soon found out that there is a separate syntax for code points above the four character range: \UXXXXXXXX. The fix in my code was to change all of the five-character code points to have an upper-case U and to pad them such that they contained 8 hexadecimal characters in total. You can see a few examples of this change in <a href="https://github.com/antzucaro/XonStat/blob/master/xonstat/util.py#L58">this line of code</a>. After making this change all of the glyphs in the font worked perfectly. Phew!</p>

        <section id="prev">
          Previous post: <a class="previous" href="https://chriswayg.github.io/posts/2014/2014-memorial-day-hike/"><i class="icon-arrow-left"></i> 2014 Memorial Day Hike</a><br>
        </section>

        <section id="next">
          Next post: <a class="next" href="https://chriswayg.github.io/posts/2014/mount-vernon/">Mount Vernon <i class="icon-arrow-right"></i></a>
        </section>
      </div>
      <div class="two columns">&nbsp;</div>
    </div>
  </div>

    
    <div id="footer">
      <div class="row" >
        <div class="twelve columns">
          <p>&copy; Ant Zucaro 2009-2016. &nbsp; Powered by <a href="http://hugo.spf13.com" title="The Hugo static site generator">Hugo</a>.</p>
        </div>
      </div>
    </div>

    <script src="/static/js/vendor/jquery.js"></script>
<script src="/static/js/vendor/jquery.unveil.min.js"></script>
<script>
  $(document).ready(function() {
    $("img").unveil();
  });
</script>

    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-1465952-2']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
</script>

  </body>
</html>

